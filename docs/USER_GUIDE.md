# AI Friend 使用指南

> 让每一天都被温柔以待 💙

## 快速开始

### 1. 安装插件

将 `astrbot_plugin_ai_friend` 文件夹放到 AstrBot 的插件目录：
```
AstrBot/data/plugins/astrbot_plugin_ai_friend/
```

或者使用 git clone（如果已发布到 GitHub）：
```bash
cd AstrBot/data/plugins/
git clone https://github.com/yourusername/ai-friend.git astrbot_plugin_ai_friend
```

### 2. 启动 AstrBot

插件会自动加载并启动定时任务。

### 3. 订阅每日陪伴

在私聊中发送：
```
/开启陪伴
```

成功后会收到确认消息，告诉你每天的推送时间。

---

## 功能使用

### ✅ 订阅管理

#### 开启陪伴
```
/开启陪伴
```
订阅后，每天晚上 22:00（默认时间）会收到问候消息。

#### 关闭陪伴
```
/关闭陪伴
```
随时可以取消订阅，不会再收到推送。

---

### 💬 手动触发

不想等到晚上？随时可以主动触发：

#### 夸夸我
```
/夸夸我
```
或
```
/今日总结
```

机器人会问你："今天做了什么想和我分享的吗？"

---

### 🎭 对话体验

#### 完整对话流程

```
[你] /夸夸我
[机器人] 今天做了什么想和我分享的吗？

[你] 就看了两页书
[机器人] 太强了！在工作了一整天之后还能坚持看两页书，
        这已经超过90%的人了。今天的进度条已经动了，安心去睡吧！
[机器人] 还有其他想分享的吗？

[你] 修了个小bug
[机器人] 能在茫茫代码中定位问题，这本身就是一种能力！
        每一个bug的修复都是在让世界变得更好一点点，今天的你也在发光呢✨
[机器人] 还有其他想分享的吗？

[你] 没了
[机器人] 好的！今天辛苦啦，晚安~ 🌙
```

#### 多轮对话

- 默认支持 **3 轮对话**
- 每轮等待 **60 秒**
- 超时会温柔提示："看来你已经去休息了~ 累了就早点睡，晚安！"

#### 结束对话的关键词

发送以下任意词语可以主动结束对话：
- "没了"
- "谢谢"
- "结束"
- "不说了"
- "就这样"
- "拜拜"

---

## 配置选项

在 AstrBot WebUI 的插件配置中可以调整：

### scheduled_time - 推送时间
- **默认**: 22:00
- **格式**: HH:MM (24小时制)
- **示例**: "21:30"、"23:00"

### reply_style - 回复风格
- **激励型(超燃💪)**: 热血、充满能量、积极向上
- **平衡型(推荐✨)**: 温暖、真诚、略带俏皮（默认）
- **温柔型(治愈🌙)**: 温柔、治愈、细腻

### max_conversation_rounds - 最大对话轮数
- **默认**: 3
- **建议**: 2-3 轮，避免过度打扰

### session_timeout - 对话超时时间
- **默认**: 60 秒
- **说明**: 用户无回复的等待时间

---

## 回复风格对比

### 激励型 💪

**特点**: 热血、超燃、充满能量

**示例**:
```
你：就看了两页书
回复：卧槽！在这个全民刷短视频的时代，你还能坚持看书？
     这已经超越了99%的人了！今天的你就是学霸本霸，
     安心去享受胜利的睡眠吧！💪
```

### 平衡型 ✨（推荐）

**特点**: 温暖、真诚、略带俏皮

**示例**:
```
你：就看了两页书
回复：太强了！在工作了一整天之后还能坚持看两页书，
     这已经超过90%的人了。今天的进度条已经动了，安心去睡吧！
```

### 温柔型 🌙

**特点**: 温柔、治愈、细腻

**示例**:
```
你：就看了两页书
回复：在忙碌了一整天之后，还能安静地翻开两页书，
     这份对自己的温柔真的很珍贵。
     今天的你已经很好了，早点休息吧🌙
```

---

## 常见问题 FAQ

### Q: 为什么没有收到推送？
A: 请检查：
1. 是否发送了 `/开启陪伴` 订阅
2. 是否已到推送时间（默认 22:00）
3. 查看 AstrBot 日志是否有错误

### Q: 可以修改推送时间吗？
A: 可以！在 WebUI 的插件配置中修改 `scheduled_time`。

### Q: 可以同时订阅多个账号吗？
A: 可以！每个账号独立订阅，互不影响。

### Q: 回复太机械怎么办？
A: 尝试切换回复风格，或者在配置中选择更适合你的风格。

### Q: 会记录我的对话内容吗？
A: 插件会记录订阅状态，对话内容仅用于 AI 生成回复，不会永久存储（除非开启打卡功能）。

### Q: AI 回复失败怎么办？
A: 插件内置了降级方案，如果 LLM 生成失败，会使用预设的温暖回复。

### Q: 可以在群里使用吗？
A: 目前推荐在私聊中使用，群聊功能待后续版本支持。

---

## 进阶技巧

### 1. 自定义推送时间
根据你的作息调整推送时间：
- 早起型: 设置为 "21:00"
- 夜猫子: 设置为 "23:30"

### 2. 选择适合的风格
- 需要能量: 选择激励型 💪
- 日常使用: 选择平衡型 ✨
- 情绪低落: 选择温柔型 🌙

### 3. 主动使用 `/夸夸我`
不用等到晚上，任何时候感到焦虑都可以：
- 完成一个任务后
- 加班结束后
- 感到自我怀疑时

---

## 反馈与建议

如果你在使用过程中遇到问题，或有任何建议，欢迎：

- 提交 GitHub Issue: [项目地址](https://github.com/yourusername/ai-friend/issues)
- 加入 AstrBot 开发者群: 975206796

---

**让每一天都被温柔以待 💙**
