# AI Friend - 陪伴机器人插件

> 一个温暖的 AstrBot 插件，在你焦虑时无条件肯定你。

## 项目简介

这是一个基于 AstrBot 的情感陪伴插件，通过 AI 驱动的高情商回复，为焦虑、自我攻击的用户提供情绪价值。

**核心功能**:
- 每天晚上主动问候："今天感觉怎么样？"
- 无条件肯定你的任何行为，哪怕只是"看了两页书"
- 通过价值重构，让你意识到"今天的进度条已经动了"

## 痛点

应对大多数人下班后或周末休息时的焦虑：
- "今天又荒废了"
- "什么都没做，好愧疚"
- "躺了一天，好废物"

## 解决方案

通过 **无条件肯定** + **成就重构**，提供急需的情绪价值：

```
你: "就看了两页书"
AI: "太强了！在工作了一整天之后还能坚持看两页书，这已经超过90%的人了。
     今天的进度条已经动了，安心去睡吧！"
```

## 项目文档

- [产品需求文档 (PRD)](docs/PRD.md) - 完整的功能设计和技术方案
- [开发计划](docs/PRD.md#五开发计划) - MVP开发路线图
- [技术架构](docs/PRD.md#三技术架构) - 技术实现细节

## 开发状态

- [x] 需求分析完成
- [ ] MVP开发中
- [ ] 内测阶段
- [ ] 发布到插件市场

## 技术栈

- **平台**: AstrBot
- **语言**: Python 3.8+
- **核心技术**:
  - 定时任务 (asyncio)
  - LLM 生成 (context.llm_generate)
  - 会话控制 (session_waiter)
  - KV 存储 (可选)

## 快速开始

### 前置要求
- 已安装 AstrBot
- Python 3.8+

### 安装步骤

```bash
# 1. 克隆项目到 AstrBot 插件目录
cd AstrBot/data/plugins/
git clone <仓库地址> astrbot_plugin_ai_friend

# 2. 在 AstrBot WebUI 中启用插件

# 3. 配置推送时间和目标用户
```

## 配置说明

在 WebUI 的插件配置中可以设置：

| 配置项 | 说明 | 默认值 |
|-------|------|--------|
| scheduled_time | 每日问候时间 | 22:00 |
| reply_style | 回复风格（激励型/平衡型/温柔型） | 平衡型 |
| enable_scheduled_push | 是否启用定时推送 | true |
| target_users | 推送目标用户（留空推送所有） | 空 |

## 使用示例

### 定时推送模式
```
[晚上10:00]
机器人: "嘿，今天感觉怎么样？有没有做什么让你觉得还不错的事？"
你: "就看了两页书"
机器人: "太强了！在工作了一整天之后还能坚持看两页书..."
```

### 手动触发模式
```
你: /夸夸我
机器人: "今天做了什么想和我分享的吗？"
你: "修了个bug"
机器人: "哇！能在众多代码中定位问题已经很厉害了..."
```

## 开发路线图

### Phase 1: MVP核心功能 ✨
- [ ] 定时任务和主动推送
- [ ] AI夸夸回复生成
- [ ] 多轮对话支持
- [ ] 基础配置项

### Phase 2: 交互优化
- [ ] 手动触发指令
- [ ] 回复风格切换（3种）
- [ ] 异常处理和日志

### Phase 3: 数据功能（可选）
- [ ] 打卡记录
- [ ] 周报生成
- [ ] 查询指令

## 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发环境设置
```bash
# 安装依赖
pip install -r requirements.txt

# 运行测试
pytest tests/
```

## 许可证

[MIT License](LICENSE)

## 联系方式

- Issue: [GitHub Issues](https://github.com/yourusername/ai-friend/issues)
- QQ群: (AstrBot开发者群)

---

**让每一天都被温柔以待 💙**
